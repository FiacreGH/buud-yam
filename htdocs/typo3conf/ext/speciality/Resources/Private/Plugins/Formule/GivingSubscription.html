<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"
      xmlns:f="http://typo3.org/ns/fluid/ViewHelpers"
      xmlns:fo="http://typo3.org/ns/Fab/Formule/ViewHelpers">

<f:layout name="Default"/>

<f:section name="main">

	<fo:loadAssets/>

	<style>
		.red {
			color: red;
		}
	</style>

	<fo:loadAssets>
		<script>
			$(document).ready(function() {
				$('#characterLeft').text('{f:translate(key:"contact.limit.total.characters")}');
				$('#message').keydown(function() {
					var max = 140;
					var len = $(this).val().length;
					if (len >= max) {
						$('#characterLeft').text('{f:translate(key:"contact.limit.met")}');
						$('#characterLeft').addClass('red');
						$('#btnSubmit').addClass('disabled');
					}
					else {
						var numberOfCharacters = max - len;
						$('#characterLeft').text(numberOfCharacters + ' {f:translate(key:"contact.limit.characters")}');
						$('#btnSubmit').removeClass('disabled');
						$('#characterLeft').removeClass('red');
					}
				});
			});
		</script>
	</fo:loadAssets>

	<f:render section="FormError" partial="Form/Error" arguments="{_all}"/>
	<div class="form-area">
		<f:form class="form-horizontal" action="submit" controller="Form" additionalAttributes="{role: 'form'}" method="post">

			<div class="row">
				<div class="col-md-6">
					<div class="form-group">
						<label for="first_name">
							{f:translate(key:'first_name', extensionName:'speciality')}
						</label>
						<input type="text"
						       name="first_name"
						       id="first_name" class="form-control"
						       value="{values.first_name}"
						       required
						       placeholder="{f:translate(key:'first_name', extensionName:'speciality')}"/>
						<span class="help-block">{fo:message.error(field: 'first_name')}</span>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<label for="last_name">
							{f:translate(key:'last_name', extensionName:'speciality')}
						</label>
						<input type="text"
						       name="last_name"
						       id="last_name"
						       class="form-control"
						       value="{values.last_name}"
						       required
						       placeholder="{f:translate(key:'last_name_plus', extensionName:'speciality')}"/>
						<span class="help-block">{fo:message.error(field: 'last_name')}</span>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-6">
					<div class="form-group">
						<label for="country">
							{f:translate(key:'country', extensionName:'speciality')}
						</label>
						<input type="text"
						       name="country"
						       id="country" class="form-control"
						       value="{values.country}"
						       required
						       placeholder="{f:translate(key:'country', extensionName:'speciality')}"/>
						<span class="help-block">{fo:message.error(field: 'country')}</span>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<label for="city">
							{f:translate(key:'city', extensionName:'speciality')}
						</label>
						<input type="text"
						       name="city"
						       id="city"
						       class="form-control"
						       value="{values.city}"
						       required
						       placeholder="{f:translate(key:'city', extensionName:'speciality')}"/>
						<span class="help-block">{fo:message.error(field: 'city')}</span>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label for="email">
					{f:translate(key:'email', extensionName:'speciality')}
				</label>
				<input type="email"
				       name="email"
				       id="email"
				       class="form-control"
				       value="{values.email}"
				       required
				       placeholder="{f:translate(key:'email', extensionName:'speciality')}"/>
				<span class="help-block">{fo:message.error(field: 'email')}</span>
			</div>

			<div class="form-group">
				<label for="phone">
					{f:translate(key:'phone', extensionName:'speciality')}
				</label>
				<input type="text"
				       name="phone"
				       id="phone" class="form-control"
				       value="{values.phone}"
				       required
				       placeholder="{f:translate(key:'phone', extensionName:'speciality')}"/>
				<span class="help-block">{fo:message.error(field: 'phone')}</span>
			</div>

			<div class="label-text">
				NB: La nature de votre don peut varier.
				</br>Votre dont peut être en nature (matériel), en espèce (argent), ou sous forme de service rendu à l'association (volontariat).
			</div>

			<div class="form-group">
				<label for="gift_nature">
					{f:translate(key:'gift_nature', extensionName:'speciality')}
				</label>: (En cas de don en espèces, vou pouvez utliser Orange Money: +226 76 51 50 94)
				<input type="text"
				       name="gift_nature"
				       id="gift_nature"
				       class="form-control"
				       value="{values.gift_nature}"
				       required
				       placeholder="{f:translate(key:'gift_nature_detail', extensionName:'speciality')}"/>
				<span class="help-block">{fo:message.error(field: 'gift_nature')}</span>
			</div>

			<div class="form-group">
				<label for="gift_description">
					{f:translate(key:'gift_description', extensionName:'speciality')}
				</label>
				<textarea class="form-control"
				          rows="6"
				          id="gift_description"
				          name="gift_description"
				          required
				          placeholder="{f:translate(key:'gift_description', extensionName:'speciality')}">{values.gift_description}</textarea>
			</div>

			<input type="submit" value="Envoyer" class="btn btn-primary pull-right">
			<f:comment><!-- The only mandatory field --></f:comment>
			<f:form.hidden name="values" value="{contentElement.uid}"/>

			<f:comment><!-- VH to limit bots annoyance (required) --></f:comment>
			<fo:honeyPot/>

			<f:comment><!--Display hint in Development context (optional) --></f:comment>
			<fo:message.development/>
		</f:form>
	</div>

</f:section>

<f:section name="emailAdmin">
<f:translate key="admin_giving_email_body" extensionName="speciality"/>

<fo:form.show labelsIn="speciality"/>
</f:section>

<f:section name="emailUser">
<f:translate key="user_giving_email_body" extensionName="speciality"/>

<fo:form.show labelsIn="speciality"/>
</f:section>

<f:section name="feedback">
	<p>
		<f:translate key="giving_feedback_body" extensionName="speciality"/>
	</p>
	<fo:form.show labelsIn="speciality"/>
</f:section>
</html>